<?php
use PHPMailer\PHPMailer\PHPMailer;
use PHPMailer\PHPMailer\Exception;

require_once(BASEPATH.'/libraries/PHPMailer/src/Exception.php');
require_once(BASEPATH.'/libraries/PHPMailer/src/PHPMailer.php');

Class Index extends Z_Controller
{
/* 
| ------------------------------------------------------------------------------------------------------------------------------------------
| MAGIC FUNCTIONS
| ------------------------------------------------------------------------------------------------------------------------------------------
*/
    function __construct()
    {
        parent::__construct();
    }
/* 
| ------------------------------------------------------------------------------------------------------------------------------------------
| PUBLIC function
| ------------------------------------------------------------------------------------------------------------------------------------------
*/
    function index()
    {
        if($this->config['environment'] == 'live' && date('Y-m-d H:i:s') >= '2021-07-20 00:00:00')
        {
            //redirect(base_url().'index/campaign-end/');
        }
        // ----------------------------------------------------------------------- //
        // INIT
        // ----------------------------------------------------------------------- //
        $this->page_title   = 'Home';
        
        // ----------------------------------------------------------------------- //
        // LOAD views and render
        // ----------------------------------------------------------------------- //
        $this->p_render('index/index');
    }
    
    function campaign_end()
    {
        // ----------------------------------------------------------------------- //
        // INIT
        // ----------------------------------------------------------------------- //
        $this->page_title   = 'Sharp Re-Raya';
        
        // ----------------------------------------------------------------------- //
        // LOAD views and render
        // ----------------------------------------------------------------------- //
        $this->p_render('index/campaign_end');
    }
/* 
| ------------------------------------------------------------------------------------------------------------------------------------------
| PRIVATE function
| ------------------------------------------------------------------------------------------------------------------------------------------
*/
    private function _get_client_ip() {
        global $config;

        $ip = '';
        if ($_SERVER['REMOTE_ADDR'] != '127.0.0.1' && $config['environment'] != 'dev')
        {
            $ip = $_SERVER['REMOTE_ADDR'];
        }
        else
        {
            $ip = '121.121.16.77'; // 1Techpark ip
        }

        $_SESSION['ss_Geo']['ip']   = $ip;

        return $ip;
    }
}